version: '3.5'
services:
  fluence-1:
    image: fluence/fluence:master
    restart: always
    ports:
      - "7001:7001" # Node service
      - "9001:9001" # Peer service
    command: "-c /Config.toml -s /node.key -b $BOOTSTRAP -e $HOST -t 7001 -w 9001"
    environment:
      RUST_BACKTRACE: "1"
      RUST_LOG: "debug,tokio_threadpool=info,tokio_reactor=info,mio=info,tokio_io=info,soketto=info,yamux=info,multistream_select=info,libp2p_secio=info,libp2p_websocket::framed=info,libp2p_ping=info,libp2p_core::upgrade::apply=info,libp2p_kad::kbucket=info"

  fluence-2:
    image: fluence/fluence:master
    restart: always
    ports:
      - "7002:7002" # Node service
      - "9002:9002" # Peer service
    command: "-c /Config.toml -s /node.key -b $BOOTSTRAP -e $HOST -t 7002 -w 9002"
    environment:
      RUST_BACKTRACE: "1"
      RUST_LOG: "debug,tokio_threadpool=info,tokio_reactor=info,mio=info,tokio_io=info,soketto=info,yamux=info,multistream_select=info,libp2p_secio=info,libp2p_websocket::framed=info,libp2p_ping=info,libp2p_core::upgrade::apply=info,libp2p_kad::kbucket=info"

  fluence-3:
    image: fluence/fluence:master
    restart: always
    ports:
      - "7003:7003" # Node service
      - "9003:9003" # Peer service
    command: "-c /Config.toml -s /node.key -b $BOOTSTRAP -e $HOST -t 7003 -w 9003"
    environment:
      RUST_BACKTRACE: "1"
      RUST_LOG: "debug,tokio_threadpool=info,tokio_reactor=info,mio=info,tokio_io=info,soketto=info,yamux=info,multistream_select=info,libp2p_secio=info,libp2p_websocket::framed=info,libp2p_ping=info,libp2p_core::upgrade::apply=info,libp2p_kad::kbucket=info"

  fluence-4:
    image: fluence/fluence:master
    restart: always
    ports:
      - "7004:7004" # Node service
      - "9004:9004" # Peer service
    command: "-c /Config.toml -s /node.key -b $BOOTSTRAP -e $HOST -t 7004 -w 9004"
    environment:
      RUST_BACKTRACE: "1"
      RUST_LOG: "debug,tokio_threadpool=info,tokio_reactor=info,mio=info,tokio_io=info,soketto=info,yamux=info,multistream_select=info,libp2p_secio=info,libp2p_websocket::framed=info,libp2p_ping=info,libp2p_core::upgrade::apply=info,libp2p_kad::kbucket=info"

  fluence-5:
    image: fluence/fluence:master
    restart: always
    ports:
      - "7005:7005" # Node service
      - "9005:9005" # Peer service
    command: "-c /Config.toml -s /node.key -b $BOOTSTRAP -e $HOST -t 7005 -w 9005"
    environment:
      RUST_BACKTRACE: "1"
      RUST_LOG: "debug,tokio_threadpool=info,tokio_reactor=info,mio=info,tokio_io=info,soketto=info,yamux=info,multistream_select=info,libp2p_secio=info,libp2p_websocket::framed=info,libp2p_ping=info,libp2p_core::upgrade::apply=info,libp2p_kad::kbucket=info"
