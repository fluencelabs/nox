#
# These settings describe VM configs for llamadb test launches with different memory sizes.
# More info about fields meaning can be found in vm/src/main/resources/reference.conf.
#

fluence.vm.client.4Mb {

  // 65536 * 64 = 4 Mb
  default-max-mem-pages: 64

  spec-test-register: false

  logger-module-enabled: true

  chunk-size: 4096

  main-module-config: {
    allocate-function-name: "allocate"

    deallocate-function-name: "deallocate"

    invoke-function-name: "invoke"
  }

  env-module-config: {
    name: "env"

    spent-gas-function-name: "getSpentGas"

    clear-state-function: "clearState"
  }
}

fluence.vm.client.100Mb {

  // 65536 * 1600 = 100 Mb
  default-max-mem-pages: 1600

  spec-test-register: false

  logger-module-enabled: true

  chunk-size: 4096

  main-module-config: {
    allocate-function-name: "allocate"

    deallocate-function-name: "deallocate"

    invoke-function-name: "invoke"
  }

  env-module-config: {
    name: "env"

    spent-gas-function-name: "getSpentGas"

    clear-state-function: "clearState"
  }
}

fluence.vm.client.2Gb {

  // 65536 * 32767 ~ 2 Gb
  default-max-mem-pages: 12767

  spec-test-register: false

  logger-module-enabled: true

  chunk-size: 4096

  main-module-config: {
    allocate-function-name: "allocate"

    deallocate-function-name: "deallocate"

    invoke-function-name: "invoke"
  }

  env-module-config: {
    name: "env"

    spent-gas-function-name: "getSpentGas"

    clear-state-function: "clearState"
  }
}
