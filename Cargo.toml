[workspace]
members = [
    "crates/libp2p",
    "crates/ctrlc-adapter",
    "crates/control-macro",
    "crates/waiting-queues",
    "crates/local-vm",
    "crates/uuid-utils",
    "crates/test-utils",
    "crates/fs-utils",
    "crates/log-utils",
    "crates/config-utils",
    "crates/service-modules",
    "crates/ivalue-utils",
    "crates/host-closure",
    "crates/json-utils",
    "crates/server-config",
    "crates/kademlia",
    "crates/async-unlock",
    "crates/now-millis",
    "crates/toml-utils",
    "crates/air-interpreter-fs",
    "crates/builtins-deployer",
    "crates/created-swarm",
    "crates/toy-vms",
    "crates/connected-client",
    "crates/test-constants",
    "particle-node/tests/builtins",
    "particle-node",
    "aquamarine",
    "particle-protocol",
    "particle-services",
    "particle-closures",
    "particle-modules",
    "connection-pool",
    "script-storage",
]
exclude = [
    "particle-node/tests/tetraplets",
]

[patch.'https://github.com/fluencelabs/marine']
marine-macro-impl = { version = "0.6.12", git = "https://github.com/fluencelabs/marine-rs-sdk", branch = "remove_serde_version_lock" }
marine-macro = { git = "https://github.com/fluencelabs/marine-rs-sdk", branch = "remove_serde_version_lock" }
marine-rs-sdk = { git = "https://github.com/fluencelabs/marine-rs-sdk", branch = "remove_serde_version_lock" }
marine-rs-sdk-main = { git = "https://github.com/fluencelabs/marine-rs-sdk", branch = "remove_serde_version_lock" }


[patch.'https://github.com/fluencelabs/aquavm']
marine-macro-impl = { version = "0.6.12", git = "https://github.com/fluencelabs/marine-rs-sdk", branch = "remove_serde_version_lock" }
marine-macro = { git = "https://github.com/fluencelabs/marine-rs-sdk", branch = "remove_serde_version_lock" }
marine-rs-sdk = { git = "https://github.com/fluencelabs/marine-rs-sdk", branch = "remove_serde_version_lock" }
marine-rs-sdk-main = { git = "https://github.com/fluencelabs/marine-rs-sdk", branch = "remove_serde_version_lock" }


[patch.crates-io]
avm-server = { git = "https://github.com/fluencelabs/aquavm", branch = "async" }

marine-runtime = { version = "0.7.1", git = "https://github.com/fluencelabs/marine", branch = "remove_serde_version_lock" }
fluence-app-service = { git = "https://github.com/fluencelabs/marine", branch = "remove_serde_version_lock" }
fluence-faas = { git = "https://github.com/fluencelabs/marine", branch = "remove_serde_version_lock" }
marine-it-parser = { version = "0.6.7", git = "https://github.com/fluencelabs/marine", branch = "remove_serde_version_lock" }
marine-it-generator = { git = "https://github.com/fluencelabs/marine", branch = "remove_serde_version_lock" }

marine-macro-impl = { version = "0.6.12", git = "https://github.com/fluencelabs/marine-rs-sdk", branch = "remove_serde_version_lock" }
marine-macro = { git = "https://github.com/fluencelabs/marine-rs-sdk", branch = "remove_serde_version_lock" }
marine-rs-sdk = { git = "https://github.com/fluencelabs/marine-rs-sdk", branch = "remove_serde_version_lock" }
marine-rs-sdk-main = { git = "https://github.com/fluencelabs/marine-rs-sdk", branch = "remove_serde_version_lock" }

trust-graph = { git = "https://github.com/fluencelabs/trust-graph", branch = "remove_serde_version_lock" }
fluence-identity = { git = "https://github.com/fluencelabs/trust-graph", branch = "remove_serde_version_lock" }